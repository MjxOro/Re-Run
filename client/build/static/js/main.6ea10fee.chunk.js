(this["webpackJsonpcapstone-oro"]=this["webpackJsonpcapstone-oro"]||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){"use strict";a.r(t);var n,s=a(1),r=a.n(s),c=a(12),o=a.n(c),i=(a(69),a(70),a(5)),l=a(13),d=a(126),u=a(7),h=a(64),p=a(3),j=["component"],m=function(e){var t=e.component,a=Object(h.a)(e,j),n=sessionStorage.getItem("token");return Object(p.jsx)(l.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return n?Object(p.jsx)(t,Object(u.a)({},e)):Object(p.jsx)(l.a,{to:"/welcome"})}}))},b=a(9),g=a(11),_=a(10),O=(a(79),a(125)),x=function(e){var t={animate:{x:[0,e.direction],transition:{x:{duration:8,ease:"linear"}}}},a=e.cardData;return Object(p.jsx)("div",{className:"banimation",children:a.map((function(e){return a=e,Object(p.jsxs)(O.a.div,{variants:t,animate:"animate",className:"banimation__card",children:[Object(p.jsx)("img",{src:a.image,className:"banimation__image"}),Object(p.jsxs)("div",{className:"banimation__text-container",children:[Object(p.jsx)("p",{className:"banimation__title",children:a.title}),Object(p.jsx)("p",{className:"banimation__price",children:a.price})]})]});var a}))})},f=(a(80),function(e){return Object(p.jsx)("main",{className:"start",children:Object(p.jsxs)("div",{className:"start__container",children:[Object(p.jsx)("figure",{className:"start__logo"}),Object(p.jsx)("h1",{className:"start__title",children:"Find your way to"}),Object(p.jsx)("div",{className:"start__slogan",children:Object(p.jsxs)(d.a,{children:[Object(p.jsx)("h1",{className:"start__text",children:"RE-"}),Object(p.jsx)(O.a.h1,{initial:{opacity:0,y:"-2rem"},animate:{opacity:1,y:0,transition:{duration:1,ease:"easeInOut"}},className:"start__text2",children:e.cycle},e.cycle)]})}),Object(p.jsx)(i.b,{to:"/register",className:"start__btn",children:"Get Started"})]})})}),v=a(6),N=a.n(v),y=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={postCards:[],title2:["Run","Fresh","Cycle"],index:0,direction:[5e3,-5e3]},e.componentDidMount=function(){N.a.get("re-run-dkdd7.ondigitalocean.app/preview").then((function(t){e.setState({postCards:t.data})})),e.myInterval=setInterval((function(){e.state.index<2?e.setState({index:e.state.index+1}):e.setState({index:0})}),3500)},e.componentWillUnmount=function(){clearInterval(e.myInterval)},e.render=function(){return Object(p.jsx)(p.Fragment,{children:e.state.postCards&&Object(p.jsxs)("section",{children:[Object(p.jsx)(x,{direction:e.state.direction[0],cardData:e.state.postCards}),Object(p.jsx)(x,{direction:e.state.direction[1],cardData:e.state.postCards}),Object(p.jsx)(x,{direction:e.state.direction[0],cardData:e.state.postCards}),Object(p.jsx)(f,{cycle:e.state.title2[e.state.index]})]})})},e}return a}(r.a.Component),C=a(27),w=(a(98),["title","titleId"]);function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function I(e,t){var a=e.title,r=e.titleId,c=k(e,w);return s.createElement("svg",F({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),a?s.createElement("title",{id:r},a):null,n||(n=s.createElement("path",{d:"M9.99997 6L8.58997 7.41L13.17 12L8.58997 16.59L9.99997 18L16 12L9.99997 6Z",fill:"#2E66E6"})))}var S=s.forwardRef(I),U=(a.p,a(46)),D=function(e){return console.log(e.randomCat()),Object(p.jsx)(p.Fragment,{children:e.blnClose?Object(p.jsx)("section",{className:"sidebar",children:Object(p.jsxs)("nav",{className:"sidebar__nav",children:[Object(p.jsxs)("div",{className:"sidebar__close-container",children:[Object(p.jsxs)("h2",{className:"sidebar__greeting",children:["Hello! ",e.currentUser.username]}),Object(p.jsx)(S,{onClick:e.close,className:"sidebar__close-icon"})]}),Object(p.jsxs)("div",{className:"sidebar__link-container",children:[Object(p.jsx)(i.b,{to:"/",className:"sidebar__link",children:"Home"}),Object(p.jsx)(i.b,{to:"/category/".concat(e.randomCat()),className:"sidebar__link",children:"Category"}),Object(p.jsx)(i.b,{to:"/chat",className:"sidebar__link",children:"Chat"}),Object(p.jsx)("div",{onClick:e.handleCheckPoints,className:"sidebar__link",children:"Points"}),Object(p.jsx)(i.b,{to:"/mypostings",className:"sidebar__link",children:"My Postings"}),Object(p.jsxs)("div",{className:"sidebar__link",children:[Object(p.jsx)(U.a,{onClick:e.handleLogout,className:"sidebar__logout"}),Object(p.jsx)("p",{onClick:e.handleLogout,className:"sidebar__logout-text",children:"Logout"})]})]})]})}):Object(p.jsx)("section",{className:"sidebar sidebar--closed",hidden:!0,children:Object(p.jsxs)("nav",{className:"sidebar__nav sidebar__nav--closed",children:[Object(p.jsxs)("div",{className:"sidebar__close-container",children:[Object(p.jsxs)("h2",{className:"sidebar__greeting",children:["Hello! ",e.currentUser.username]}),Object(p.jsx)(S,{onClick:e.close,className:"sidebar__close-icon"})]}),Object(p.jsxs)("div",{className:"sidebar__link-container",children:[Object(p.jsx)(i.b,{className:"sidebar__link",children:"Home"}),Object(p.jsx)(i.b,{className:"sidebar__link",children:"Category"}),Object(p.jsx)(i.b,{className:"sidebar__link",children:"Chat"}),Object(p.jsx)("div",{className:"sidebar__link",children:"Points"}),Object(p.jsx)(i.b,{className:"sidebar__link",children:"My Postings"}),Object(p.jsxs)("div",{className:"sidebar__link",children:[Object(p.jsx)(U.a,{className:"sidebar__logout"}),Object(p.jsx)("p",{className:"sidebar__logout-text",children:"Logout"})]})]})]})})})},P=(a(101),a(60)),A=(a(102),a(37)),E=a(15),B=function(e){return Object(p.jsx)("section",{className:e.show?"pfp":"pfp pfp--close",children:Object(p.jsxs)("div",{className:e.show?"pfp__container":"pfp__container pfp__container--close",children:[Object(p.jsx)(i.b,{to:"/",onClick:e.close,className:"pfp__close"}),Object(p.jsxs)("div",{className:"pfp__header",children:[Object(p.jsx)(E.c,{onClick:e.close,className:"pfp__goback"}),Object(p.jsx)("h1",{className:"pfp__h1",children:"Change Profile Picture"})]}),Object(p.jsxs)("form",{onSubmit:e.handleUpload,className:"pfp__image",children:[Object(p.jsx)("img",{src:e.previewImg,className:"pfp__preview"}),Object(p.jsx)("label",{htmlFor:"uploadPfp",className:"pfp__label-img",children:Object(p.jsx)(A.a,{className:"pfp__upload-icon"})}),Object(p.jsx)("input",{onChange:e.handleChangePfp,type:"file",id:"uploadPfp",className:"pfp__upload",name:"image"})," ",Object(p.jsx)("button",{className:"pfp__button",children:"Change Picture"})]})]})})},L=(a(103),a(30)),z=function(e){return Object(p.jsx)("section",{className:e.show?"points":"points points--close",children:Object(p.jsxs)("div",{className:e.show?"points__container":"points__container points__container--close",children:[Object(p.jsx)("div",{onClick:e.close,className:"points__close-btn points__close-btn--container",children:Object(p.jsx)(L.b,{className:"points__close-btn"})}),Object(p.jsx)(O.a.div,{className:"points__text-container",initial:{opacity:0,x:"-100%"},animate:{opacity:1,x:0,transition:{duration:2,ease:"easeInOut"}},children:Object(p.jsxs)("div",{className:"points__userChat",children:[Object(p.jsx)("img",{className:"points__pfp",src:e.currentUser.profilePicture}),Object(p.jsxs)("div",{className:"points__info-container",children:[Object(p.jsx)("p",{className:"points__chat-text",children:"".concat(e.currentUser.username,"'s Points:  \t")}),Object(p.jsx)("p",{className:"points__chat-text",children:"".concat(e.currentUser.points)})]})]})})]})})},G=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={showSidebar:!1,previewImg:null,files:null,showPoints:!1},e.handleUpload=function(t){t.preventDefault();var a=sessionStorage.getItem("token"),n=new FormData;n.append("image",e.state.files?e.state.files:"null"),N.a.put("re-run-dkdd7.ondigitalocean.app/secure/edit/post/"+e.props.match.params.id,n,{headers:{authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),e.props.history.push("/")},e.handleSidebar=function(){e.state.showSidebar?e.setState({showSidebar:!1}):e.setState({showSidebar:!0})},e.handleLogout=function(){e.props.history.push("/login"),setTimeout((function(){sessionStorage.removeItem("token"),sessionStorage.removeItem("timer")}),2300)},e.handleChangePfp=function(t){console.log(t.target.files),e.setState({files:t.target.files[0],previewImg:URL.createObjectURL(t.target.files[0])})},e.handleCheckPoints=function(){e.setState({showPoints:!0})},e.handleUpload=function(t){t.preventDefault();var a=sessionStorage.getItem("token"),n=new FormData;n.append("image",e.state.files?e.state.files:"null"),N.a.put("re-run-dkdd7.ondigitalocean.app/secure/upload/pfp/",n,{headers:{authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t),e.setState({showModal:!1}),e.props.history.go(0)})).catch((function(e){console.log(e)}))},e.handleModalShow=function(){e.setState({showModal:!0})},e.handleModalClose=function(){e.setState({showModal:!1,showPoints:!1})},e.randomCategory=function(){switch(Math.floor(4*Math.random())){case 0:return"electronics";case 1:return"clothing";case 2:return"general";case 3:return"gardening";default:return"electronics"}},e.transition={duration:.6,ease:[.43,.13,.23,.96]},e.render=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(z,{show:e.state.showPoints,close:e.handleModalClose,currentUser:e.props.currentUser}),Object(p.jsx)(B,{show:e.state.showModal,close:e.handleModalClose,handleUpload:e.handleUpload,previewImg:e.state.previewImg,handleChangePfp:e.handleChangePfp}),e.props.currentUser&&Object(p.jsxs)("header",{className:"hd",children:[Object(p.jsxs)("div",{className:"hd__container",children:[Object(p.jsx)(i.b,{to:"/",className:"hd__logo"}),Object(p.jsxs)("nav",{className:"hd__left-container",children:[Object(p.jsxs)("nav",{className:"hd__desktop-nav",children:[Object(p.jsx)(i.b,{to:"/",className:"hd__link",children:"Home"}),Object(p.jsx)(i.b,{to:"/mypostings",className:"hd__link",children:"My Postings"}),Object(p.jsx)("div",{className:"hd__link",onClick:e.handleCheckPoints,children:"Points"})]}),Object(p.jsx)(i.b,{to:"/add/posts",children:Object(p.jsx)(O.a.div,{whileHover:{scale:1.3},transition:e.transition,children:Object(p.jsx)(P.a,{className:"hd__add"})})}),Object(p.jsxs)("div",{className:"hd__profile-tab",children:[Object(p.jsx)("img",{src:e.props.currentUser.profilePicture,className:"hd__profile",onClick:e.handleModalShow}),e.state.showSidebar?Object(p.jsx)("div",{onClick:e.handleSidebar,className:"hd__btn-container hd__btn-container--open",children:Object(p.jsx)("div",{className:"hd__burger hd__burger--open"})}):Object(p.jsx)("div",{onClick:e.handleSidebar,className:"hd__btn-container",children:Object(p.jsx)("div",{className:"hd__burger"})})]})]})]}),Object(p.jsx)(D,{randomCat:e.randomCategory,handleCheckPoints:e.handleCheckPoints,handleLogout:e.handleLogout,currentUser:e.props.currentUser,close:e.handleSidebar,blnClose:e.state.showSidebar})]})]})},e}return a}(r.a.Component),M=(a(104),function(e){return Object(p.jsx)("section",{className:"signup",children:Object(p.jsxs)(O.a.form,{variants:{hidden:{opacity:0,y:200},show:{opacity:1,y:0,transition:{ease:[.6,.01,-.05,.95],duration:1.6}}},initial:"hidden",animate:"show",exit:"exit",onSubmit:e.handleSignUp,className:"signup__form",children:[Object(p.jsxs)("main",{className:"signup__left",children:[Object(p.jsx)("h1",{className:"signup__title",children:"Sign Up"}),Object(p.jsx)("div",{className:"signup__Oauth"}),Object(p.jsx)("label",{className:"signup__label",children:"Username"}),Object(p.jsx)("input",{onChange:e.handleChange,name:"username",className:e.error.username?"signup__input signup__input--error":"signup__input",placeholder:"Username"}),Object(p.jsx)("label",{className:e.error.username?"signup__error":"signup__error--hidden",children:"Field is required"}),Object(p.jsx)("label",{className:"signup__label",children:"Email"}),Object(p.jsx)("input",{onChange:e.handleChange,name:"email",className:e.error.email||e.error.validEmail?"signup__input signup__input--error":"signup__input",placeholder:"Jeff@apple.com"}),e.error.email||e.error.validEmail?e.error.email?Object(p.jsx)("label",{className:"signup__error",children:"Field is required"}):e.error.validEmail?Object(p.jsx)("label",{className:"signup__error",children:"Enter a valid email"}):void 0:Object(p.jsx)("label",{className:"signup__error signup__error--hidden"}),Object(p.jsx)("label",{className:"signup__label",children:"Password"}),Object(p.jsx)("input",{onChange:e.handleChange,name:"password",type:"password",className:e.error.password?"signup__input signup__input--error":"signup__input",placeholder:"Choose a strong password"}),Object(p.jsx)("label",{className:e.error.password?"signup__error":"signup__error--hidden",children:"Field is required"}),Object(p.jsx)("button",{className:"signup__button",children:"Create Account"}),Object(p.jsxs)("div",{className:"signup__login-container",children:[Object(p.jsx)("p",{className:"signup__text",children:"Already have an account? "}),Object(p.jsx)(i.b,{to:"/login",className:"signup__link",children:"Log in"})]})]}),function(){switch(e.rng){case 1:return Object(p.jsx)("figure",{className:"signup__art-container"});case 2:return Object(p.jsx)("figure",{className:"signup__art-container signup__art-container--img1"});case 3:return Object(p.jsx)("figure",{className:"signup__art-container signup__art-container--img2"});default:return Object(p.jsx)("figure",{className:"signup__art-container"})}}()]})})}),R=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={userInfo:null,formImg:null,err:{username:!1,email:!1,validEmail:!1,password:!1}},e.componentDidMount=function(){e.setState({formImg:Math.floor(3*Math.random()+1)})},e.handleChange=function(t){e.setState({userInfo:Object(u.a)(Object(u.a)({},e.state.userInfo),{},Object(C.a)({},t.target.name,t.target.value))})},e.handleSignUp=function(t){t.preventDefault();var a=/(?!.*\.{2})^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([\t]*\r\n)?[\t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([\t]*\r\n)?[\t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i,n=t.target,s={username:!1,email:!1,password:!1};n.username.value&&n.email.value&&n.password.value?a.test(String(e.state.userInfo.email.toLowerCase()))?N.a.post("re-run-dkdd7.ondigitalocean.app/users/register",e.state.userInfo).then((function(t){sessionStorage.setItem("token",t.data.token),e.props.history.push("/login")})).catch((function(e){console.log(e)})):(s.validEmail=!0,e.setState({err:s})):(""===n.username.value&&(s.username=!0,e.setState({err:s})),""===n.email.value?(s.email=!0,e.setState({err:s})):a.test(String(t.target.email.value.toLowerCase()))||(s.validEmail=!0,e.setState({err:s})),""===n.password.value&&(s.password=!0,e.setState({err:s})))},e.render=function(){return console.log(e.state.err),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(M,{error:e.state.err,handleChange:e.handleChange,rng:e.state.formImg,handleSignUp:e.handleSignUp})})},e}return a}(r.a.Component),T=(a(105),function(e){Object(l.g)();function t(t){return t?Object(p.jsx)("label",{className:"signup__error",children:"Field is required"}):e.error.valid?Object(p.jsx)("label",{className:"signup__error",children:"Email and/or password is incorrect"}):Object(p.jsx)("label",{className:"signup__error signup__error--hidden"})}return Object(p.jsx)("section",{className:"login",children:Object(p.jsxs)(O.a.form,{onSubmit:e.handleLogin,variants:{hidden:{opacity:0,y:200},show:{opacity:1,y:0,transition:{ease:[.6,.01,-.05,.95],duration:1.6}}},initial:"hidden",animate:"show",exit:"exit",className:"login__form",children:[Object(p.jsxs)("main",{className:"login__left",children:[Object(p.jsx)("h1",{className:"login__title",children:"Log in"}),Object(p.jsx)("div",{className:"login__Oauth"}),Object(p.jsx)("label",{className:"login__label",children:"Email"}),Object(p.jsx)("input",{onChange:e.handleChange,name:"email",className:e.error.email||e.error.valid?"login__input login__input--error":"login__input",placeholder:"Jeff@apple.com"}),t(e.error.email),Object(p.jsx)("label",{className:"login__label",children:"Password"}),Object(p.jsx)("input",{onChange:e.handleChange,name:"password",type:"password",className:e.error.password||e.error.valid?"login__input login__input--error":"login__input",placeholder:"Choose a strong password"}),t(e.error.password),Object(p.jsx)("button",{className:"login__button",children:"Log in"}),Object(p.jsxs)("div",{className:"login__login-container",children:[Object(p.jsx)("p",{className:"login__text",children:"Dont have an account? "}),Object(p.jsx)(i.b,{to:"/register",className:"login__link",children:"Sign Up"})]})]}),function(){switch(e.random){case 1:return Object(p.jsx)("figure",{className:"login__art-container"});case 2:return Object(p.jsx)("figure",{className:"login__art-container login__art-container--img1"});case 3:return Object(p.jsx)("figure",{className:"login__art-container login__art-container--img2"});default:return Object(p.jsx)("figure",{className:"login__art-container"})}}()]})})}),W=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={userInfo:null,formImg:null,err:{email:!1,password:!1,valid:!1}},e.componentDidMount=function(){e.setState({formImg:Math.floor(3*Math.random()+1)})},e.handleChange=function(t){e.setState({userInfo:Object(u.a)(Object(u.a)({},e.state.userInfo),{},Object(C.a)({},t.target.name,t.target.value))})},e.handleLogin=function(t){t.preventDefault();var a=t.target,n={email:!1,password:!1};a.email.value&&a.password.value?N.a.post("re-run-dkdd7.ondigitalocean.app/users/login",e.state.userInfo).then((function(t){sessionStorage.setItem("token",t.data.token),e.props.history.push("/")})).catch((function(t){n.valid=!0,e.setState({err:n}),console.log(t.data)})):(""===a.email.value&&(n.email=!0,e.setState({err:n})),""===a.password.value&&(n.password=!0,e.setState({err:n})))},e.render=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(T,{error:e.state.err,random:e.state.formImg,handleChange:e.handleChange,handleLogin:e.handleLogin})})},e}return a}(r.a.Component),H=(a(106),function(e){var t=e.index,a={duration:.6,ease:[.43,.13,.23,.96]};return Object(p.jsx)("article",{className:"hero",children:Object(p.jsxs)("section",{className:"hero__container",children:[Object(p.jsx)(i.b,{to:"/post/"+e.data[t]._id,children:Object(p.jsx)(O.a.img,{src:e.data[t].image,id:e.data[t]._id,className:"hero__img",whileHover:{scale:1.1},transition:a})}),Object(p.jsxs)(O.a.div,{exit:{opacity:0},transition:a,className:"hero__category-container",children:[Object(p.jsx)(i.b,{to:"/category/electronics",className:"hero__category",children:"Tech"}),Object(p.jsx)(i.b,{to:"/category/clothing",className:"hero__category hero__category--one",children:"Clothing"}),Object(p.jsx)(i.b,{to:"/category/general",className:"hero__category hero__category--two",children:"General"}),Object(p.jsx)(i.b,{to:"/category/gardening",className:"hero__category hero__category--three",children:"Gardening"})]}),Object(p.jsxs)(O.a.div,{exit:{opacity:0},transition:a,className:"hero__controls",children:[Object(p.jsx)(E.a,{onClick:e.slideLeft,className:0!==t?"hero__prev":"hero__prev hero__prev--hidden"}),Object(p.jsx)(E.b,{onClick:e.slideRight,className:t!==e.data.length-1?"hero__next":"hero__next hero__next--hidden"})]})]},e.data[t].title)})}),J=(a(107),function(e){var t={hidden:{opacity:0,y:200},show:{opacity:1,y:0,transition:{ease:[.6,.01,-.05,.95],duration:1.6}},exit:{opacity:0,y:-200,transition:{ease:"easeInOut",duration:.8}}},a={hidden:{opacity:0,y:200},show:{opacity:1,y:0,transition:{ease:[.6,.01,-.05,.95],duration:1.6}}};return Object(p.jsxs)(O.a.main,{variants:{show:{transition:{staggerChildren:.35}}},initial:"hidden",animate:"show",exit:"exit",className:"main",children:[Object(p.jsx)("h1",{className:"main__h1",children:"What Other People are Selling"}),Object(p.jsx)("div",{className:"main__grid",children:e.data.map((function(e){return Object(p.jsx)(O.a.div,{variants:a,children:Object(p.jsx)(i.b,{to:"/post/"+e._id,className:"main__card-link",children:Object(p.jsxs)(O.a.div,{className:"main__card",whileHover:{scale:1.1},variants:t,children:[Object(p.jsx)("img",{src:e.image,className:"main__img"}),Object(p.jsxs)("div",{className:"main__text-container",children:[Object(p.jsx)("p",{className:"main__title",children:e.title}),Object(p.jsx)("p",{className:"main__price",children:e.price})]})]})})})}))})]})}),K=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={index:0,currentUser:null,allPost:null,premiumPosts:[]},e.componentDidMount=function(){var t=sessionStorage.getItem("token");N.a.get("re-run-dkdd7.ondigitalocean.app/secure/current/user",{headers:{authorization:"Bearer ".concat(t)}}).then((function(a){return e.setState({currentUser:a.data}),N.a.get("re-run-dkdd7.ondigitalocean.app/secure/all/postings",{headers:{authorization:"Bearer ".concat(t)}})})).then((function(t){console.log(t.data);var a=t.data.filter((function(e){return!0===e.premium}));console.log(a);var n=Math.floor(a.length/2);e.setState({allPost:t.data,premiumPosts:a,index:n})})).catch((function(e){console.log(e)}));var a=sessionStorage.getItem("timer");a?+new Date-a>6e4&&N.a.put("re-run-dkdd7.ondigitalocean.app/secure/add/points",{},{headers:{authorization:"Bearer ".concat(t)}}).then((function(){sessionStorage.setItem("timer",+new Date)})).catch((function(e){console.log(e)})):sessionStorage.setItem("timer",+new Date);console.log(sessionStorage.getItem("timer"))},e.componentDidUpdate=function(e,t){},e.handleSlideLeft=function(){e.state.index>-1&&e.setState({index:e.state.index-1})},e.handleSlideRight=function(){e.state.index<e.state.premiumPosts.length&&e.setState({index:e.state.index+1})},e.render=function(){return Object(p.jsx)(p.Fragment,{children:e.state.currentUser&&e.state.allPost&&e.state.premiumPosts&&e.state.index>-1&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.b,{render:function(t){return Object(p.jsx)(G,Object(u.a)({currentUser:e.state.currentUser},t))}}),Object(p.jsx)(H,{data:e.state.premium?e.state.premium:e.state.allPost,index:e.state.index,slideRight:e.handleSlideRight,slideLeft:e.handleSlideLeft}),Object(p.jsx)(J,{data:e.state.allPost})]})})},e}return a}(r.a.Component),Y=(a(108),function(e){var t=e.index;var a={duration:1.4,ease:[.6,.01,-.05,.9]},n=e.allUsers.find((function(t){return t._id===e.data.userId}));return Object(p.jsx)(p.Fragment,{children:null===t?Object(p.jsx)("h1",{children:"LOADING"}):Object(p.jsxs)(O.a.section,{className:"post",initial:"initial",animate:"animate",exit:"exit",children:[Object(p.jsx)(O.a.div,{className:"post__main-container",children:Object(p.jsxs)("div",{className:"post__top",children:[Object(p.jsx)(O.a.img,{src:e.data.image,className:"post__img",initial:window.innerWidth<768?{y:"1rem",scale:1.1,height:"28rem"}:window.innerWidth<1280?{y:"1.75rem",scale:1.1,height:"35rem"}:{y:"2.25rem",scale:1.1,height:"50rem",width:"100vw"},animate:window.innerWidth<768?{y:"0.75rem",scale:1.1,height:"15rem",transition:Object(u.a)({delay:.2},a)}:window.innerWidth<1280?{y:"1.75rem",scale:1.1,height:"28rem",transition:Object(u.a)({delay:.2},a)}:{y:"2.25rem",scale:1.1,height:"40rem",width:"1280px",transition:Object(u.a)({delay:.2},a)}}),Object(p.jsxs)(O.a.div,{className:"post__text-container",initial:{opacity:0,x:"-100%"},animate:{opacity:1,x:0,transition:{duration:2,ease:"easeInOut"}},children:[Object(p.jsx)("p",{className:"post__title",children:e.data.title}),Object(p.jsx)("p",{className:"post__price",children:e.data.description}),Object(p.jsx)("p",{className:"post__price",children:e.data.price}),Object(p.jsxs)("div",{onClick:function(){var t={user_ids:[e.currentUser._id,e.data.userId],name:e.data.title,cover_url:e.data.image,is_distinct:"true"};e.getChatCreation(t)},className:"post__userChat",children:[Object(p.jsx)("img",{className:"post__pfp",src:n.profilePicture}),Object(p.jsx)("p",{className:"post__chat-text",children:"Interested? Message: "+n.username})]}),Object(p.jsx)("p",{className:"post__maps-label",children:"".concat(n.username,"'s location")})]})]})}),Object(p.jsx)("article",{className:"post__map-api"})]})})}),q=(a(109),a(63)),$=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={location:{}},e.componentDidMount=function(){},e.render=function(){return Object(p.jsx)(p.Fragment,{children:e.state.location&&Object(p.jsx)("div",{className:"maps",children:Object(p.jsx)(q.a,{bootstrapURLKeys:{key:"AIzaSyDhmpkDwJFgGnLdW6lJrzfyPwtbDjYqW5I"},defaultCenter:e.props.center,defaultZoom:e.props.zoom,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(t){var a=t.map;t.maps;return new window.google.maps.Circle({strokeColor:"#19CB8C",strokeOpacity:.8,strokeWeight:2,fillColor:"#5BE5AB",fillOpacity:.3,map:a,center:e.props.center,radius:275})}})})})},e}return a}(s.Component);$.defaultProps={zoom:15};var Z=$,V=a(40),X=a.n(V),Q=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={index:0,currentUser:null,filterPost:null,allUsers:null,loaction:null},e.componentDidMount=function(){window.scrollTo(0,0),X.a.setApiKey("AIzaSyDhmpkDwJFgGnLdW6lJrzfyPwtbDjYqW5I"),X.a.setLocationType("APPROXIMATE");var t=sessionStorage.getItem("token");N.a.get("re-run-dkdd7.ondigitalocean.app/secure/current/user",{headers:{authorization:"Bearer ".concat(t)}}).then((function(a){return console.log(a.data),e.setState({currentUser:a.data}),N.a.get("re-run-dkdd7.ondigitalocean.app/secure/all/postings",{headers:{authorization:"Bearer ".concat(t)}})})).then((function(a){var n=a.data.find((function(t){return t._id===e.props.match.params.id}));return console.log(n),e.setState({filterPost:n}),N.a.get("re-run-dkdd7.ondigitalocean.app/secure/all/users",{headers:{authorization:"Bearer ".concat(t)}})})).then((function(t){return console.log(t.data),e.setState({allUsers:t.data}),X.a.fromAddress(e.state.filterPost.location)})).then((function(t){console.log(t.results[0].geometry.location),e.setState({location:t.results[0].geometry.location})})).catch((function(e){console.log(e)}));var a=sessionStorage.getItem("timer");a?+new Date-a>6e4&&N.a.put("re-run-dkdd7.ondigitalocean.app/secure/add/points",{},{headers:{authorization:"Bearer ".concat(t)}}).then((function(){sessionStorage.setItem("timer",+new Date)})).catch((function(e){console.log(e)})):sessionStorage.setItem("timer",+new Date);console.log(sessionStorage.getItem("timer"))},e.getChatCreation=function(t){var a=sessionStorage.getItem("token");N.a.post("re-run-dkdd7.ondigitalocean.app/secure/create/chat",t,{headers:{authorization:"Bearer ".concat(a)}}).then((function(t){console.log(t),e.props.history.push("/chat")}))},e.render=function(){return Object(p.jsx)(p.Fragment,{children:e.state.currentUser&&e.state.filterPost&&e.state.allUsers&&e.state.location&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.b,{render:function(t){return Object(p.jsx)(G,Object(u.a)({currentUser:e.state.currentUser},t))}}),Object(p.jsx)(Y,{getChatCreation:e.getChatCreation,allUsers:e.state.allUsers,currentUser:e.state.currentUser,data:e.state.filterPost,index:e.state.index}),Object(p.jsx)(Z,{center:e.state.location})]})})},e}return a}(r.a.Component),ee=(a(110),function(e){return console.log(e.previewImg),Object(p.jsx)("section",{className:"add",children:Object(p.jsxs)("form",{onSubmit:e.handleUpload,className:"add__container",children:[Object(p.jsxs)("div",{className:"add__header",children:[Object(p.jsx)(E.c,{onClick:e.handleGoback,className:"add__goback"}),Object(p.jsx)("h1",{className:"add__h1",children:"Create a post"})]}),Object(p.jsxs)("article",{className:"add__image",children:[Object(p.jsx)("img",{src:e.previewImg,className:"add__preview"}),Object(p.jsx)("label",{htmlFor:"uploadImg",className:"add__label-img",children:Object(p.jsx)(A.a,{className:"add__upload-icon"})}),Object(p.jsx)("input",{onChange:e.handleChangeImg,type:"file",id:"uploadImg",className:"add__upload",name:"image"})," "]}),Object(p.jsxs)("div",{className:"add__info-container",children:[Object(p.jsx)("label",{className:"add__label",children:"Title"}),Object(p.jsx)("input",{onChange:e.handleChange,className:"add__input",name:"title"}),Object(p.jsx)("label",{className:"add__label",children:"Price"}),Object(p.jsx)("input",{onChange:e.handleChange,className:"add__input",name:"price"}),Object(p.jsx)("label",{className:"add__label",children:"Location"}),Object(p.jsx)("input",{onChange:e.handleChange,className:"add__input",name:"location"}),Object(p.jsx)("label",{className:"add__label",children:"Category"}),Object(p.jsxs)("select",{onChange:e.handleChange,id:"category",className:"add__input add__input--select",name:"category",children:[Object(p.jsx)("option",{value:"electronics",children:"Electronics"}),Object(p.jsx)("option",{value:"clothing",children:"Clothing"}),Object(p.jsx)("option",{value:"general",children:"General"}),Object(p.jsx)("option",{value:"gardening",children:"Gardening"})]}),Object(p.jsx)("label",{className:"add__label",children:"Description"}),Object(p.jsx)("input",{onChange:e.handleChange,className:"add__input",name:"description"}),Object(p.jsx)("label",{className:"add__label",children:"Would You like your post on the hero banner? (10pts)"}),Object(p.jsxs)("div",{className:"add__checkbox-container",children:[Object(p.jsx)("input",{onChange:e.handleChange,type:"checkbox",disabled:!(e.currentUser.points>10),className:"add__input add__input--checkbox",value:!0,name:"premium"}),Object(p.jsx)("label",{className:"add__label",children:"Sure!"})]})]}),Object(p.jsxs)("button",{className:"add__btn",children:[Object(p.jsx)(E.d,{className:"add__btn-icon"}),Object(p.jsx)("p",{className:"add__btn-text",children:"Submit"})]})]})})}),te=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={currentUser:null,postInfo:{premium:!1,category:"electronics",title:"",price:"",location:"",description:""},previewImg:null,files:null},e.componentDidMount=function(){var t=sessionStorage.getItem("token");N.a.get("re-run-dkdd7.ondigitalocean.app/secure/current/user",{headers:{authorization:"Bearer ".concat(t)}}).then((function(t){console.log(t.data),e.setState({currentUser:t.data})})).catch((function(e){console.log(e)})),console.log(e.state.currentUser)},e.handleChange=function(t){e.setState({postInfo:Object(u.a)(Object(u.a)({},e.state.postInfo),{},Object(C.a)({},t.target.name,t.target.value))}),console.log(t.target.value),console.log(e.state.postInfo)},e.handleChangeImg=function(t){console.log("WORING"),e.setState({files:t.target.files[0],previewImg:URL.createObjectURL(t.target.files[0])}),console.log(e.state.previewImg)},e.handleUpload=function(t){t.preventDefault();var a=sessionStorage.getItem("token"),n=new FormData;n.append("image",e.state.files),n.append("title",e.state.postInfo.title),n.append("price",e.state.postInfo.price),n.append("location",e.state.postInfo.location),n.append("category",e.state.postInfo.category),n.append("description",e.state.postInfo.description),n.append("premium",e.state.postInfo.premium),"true"!==n.get("premium")?(console.log("BRUH"),N.a.post("re-run-dkdd7.ondigitalocean.app/secure/add/post",n,{headers:{authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),e.props.history.push("/")):(N.a.put("re-run-dkdd7.ondigitalocean.app/secure/remove/points",{},{headers:{authorization:"Bearer ".concat(a)}}).then((function(e){return N.a.post("re-run-dkdd7.ondigitalocean.app/secure/add/post",n,{headers:{authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data"}})})).then((function(e){})).catch((function(e){console.log(e)})),e.props.history.push("/"))},e.render=function(){return Object(p.jsx)(p.Fragment,{children:e.state.currentUser&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.b,{render:function(t){return Object(p.jsx)(G,Object(u.a)({currentUser:e.state.currentUser},t))}}),Object(p.jsx)(ee,{currentUser:e.state.currentUser,handleUpload:e.handleUpload,previewImg:e.state.previewImg,handleChangeImg:e.handleChangeImg,handleChange:e.handleChange})]})})},e}return a}(r.a.Component),ae=a(38),ne=a.n(ae),se=a(47),re=(a(111),function(e){var t={hidden:{opacity:0,y:200},show:{opacity:1,y:0,transition:{ease:[.6,.01,-.05,.95],duration:1.6}},exit:{opacity:0,y:-200,transition:{ease:"easeInOut",duration:.8}}},a={hidden:{opacity:0,y:200},show:{opacity:1,y:0,transition:{ease:[.6,.01,-.05,.95],duration:1.6}}};return Object(p.jsx)(O.a.section,{className:"myads",variants:{show:{transition:{staggerChildren:.35}}},initial:"hidden",animate:"show",exit:"exit",children:Object(p.jsxs)("div",{className:"myads__container",children:[Object(p.jsxs)("div",{className:"myads__header",children:[Object(p.jsx)(E.c,{onClick:e.handleGoback,className:"myads__goback"}),Object(p.jsx)("h1",{className:"myads__h1",children:"My Postings"})]}),Object(p.jsx)("main",{className:"myads__grid",children:e.data.map((function(n){return Object(p.jsx)(O.a.div,{variants:a,children:Object(p.jsxs)(O.a.div,{className:"myads__card",whileHover:{scale:1.1},variants:t,children:[Object(p.jsx)("img",{className:"myads__img",src:n.image}),Object(p.jsxs)("div",{className:"myads__info-container",children:[Object(p.jsxs)("div",{className:"myads__text-container",children:[Object(p.jsx)("p",{className:"myads__title",children:n.title}),Object(p.jsx)("p",{className:"myads__price",children:n.price})]}),Object(p.jsxs)("div",{className:"myads__icon-container",children:[Object(p.jsx)(i.b,{className:"myads__link",to:"/edit/post/"+n._id,children:Object(p.jsx)(E.e,{className:"myads__edit"})}),Object(p.jsx)("div",{className:"myads__link",id:n._id,onClick:e.handleOpenDelete,children:Object(p.jsx)(L.b,{className:"myads__delete"})})]})]})]})})}))})]})})}),ce=(a(112),function(e){var t=e.data.find((function(t){return t._id===e.postId}));return console.log(t),Object(p.jsx)("section",{className:e.show?"delete":"delete delete--close",children:Object(p.jsxs)("div",{className:e.show?"delete__container":"delete__container delete__container--close",children:[Object(p.jsx)(i.b,{to:"/",onClick:e.close,className:"delete__close"}),Object(p.jsx)("h1",{className:"delete__greeting",children:"Are you sure you want to delete this posting?"}),t&&Object(p.jsxs)("div",{className:"delete__card",children:[Object(p.jsx)("img",{className:"delete__img",src:t.image}),Object(p.jsx)("div",{className:"delete__info-container",children:Object(p.jsxs)("div",{className:"delete__text-container",children:[Object(p.jsx)("p",{className:"delete__title",children:t.title}),Object(p.jsx)("p",{className:"delete__price",children:t.price})]})})]}),Object(p.jsxs)("div",{className:"delete__icon-container",children:[Object(p.jsx)("div",{onClick:e.handleDelete,className:"delete__delete-btn delete__delete-btn--container",children:Object(p.jsx)(L.a,{className:"delete__delete-btn"})}),Object(p.jsx)("div",{onClick:e.close,className:"delete__close-btn delete__close-btn--container",children:Object(p.jsx)(L.b,{className:"delete__close-btn"})})]})]})})}),oe=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={userPosts:[],index:null,currentUser:null,show:!1,postId:null},e.componentDidMount=function(){e.setState({index:e.props.match.params.id-1});var t=sessionStorage.getItem("token");N.a.get("re-run-dkdd7.ondigitalocean.app/secure/current/user",{headers:{authorization:"Bearer ".concat(t)}}).then((function(a){return e.setState({currentUser:a.data}),N.a.get("re-run-dkdd7.ondigitalocean.app/secure/user/posts",{headers:{authorization:"Bearer ".concat(t)}})})).then((function(t){console.log(t.data),e.setState({userPosts:t.data})})).catch((function(e){console.log(e)}))},e.componentDidUpdate=function(){var e=Object(se.a)(ne.a.mark((function e(t,a){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),e.handleDelete=Object(se.a)(ne.a.mark((function t(){var a;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.props.match),a=sessionStorage.getItem("token"),t.next=4,N.a.delete("re-run-dkdd7.ondigitalocean.app/secure/delete/post/"+e.state.postId,{headers:{authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));case 4:e.props.history.go(0);case 5:case"end":return t.stop()}}),t)}))),e.handleGoback=function(){e.props.history.goBack()},e.handleClose=function(){e.setState({show:!1})},e.handleOpenDelete=function(t){console.log(t.target.id),t.stopPropagation(),e.setState({show:!0,postId:t.target.id})},e.render=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ce,{data:e.state.userPosts,postId:e.state.postId,close:e.handleClose,show:e.state.show,handleDelete:e.handleDelete}),e.state.currentUser&&e.state.userPosts&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.b,{render:function(t){return Object(p.jsx)(G,Object(u.a)({currentUser:e.state.currentUser},t))}}),Object(p.jsx)(re,{handleGoback:e.handleGoback,data:e.state.userPosts,handleOpenDelete:e.handleOpenDelete})]})]})},e}return a}(r.a.Component),ie=(a(113),function(e){return Object(p.jsx)("section",{className:"edit",children:Object(p.jsxs)("form",{onSubmit:e.handleUpload,className:"edit__container",children:[Object(p.jsxs)("div",{className:"edit__header",children:[Object(p.jsx)(E.c,{onClick:e.handleGoback,className:"edit__goback"}),Object(p.jsx)("h1",{className:"edit__h1",children:"Edit a post"})]}),Object(p.jsxs)("article",{className:"edit__image",children:[Object(p.jsx)("img",{src:e.previewImg,className:"edit__preview"}),Object(p.jsx)("label",{htmlFor:"uploadImg",className:"edit__label-img",children:Object(p.jsx)(A.a,{className:"edit__upload-icon"})}),Object(p.jsx)("input",{onChange:e.handleChangeImg,type:"file",id:"uploadImg",className:"edit__upload",name:"image",multiple:!0})," "]}),Object(p.jsxs)("div",{className:"edit__info-container",children:[Object(p.jsx)("label",{className:"edit__label",children:"Title"}),Object(p.jsx)("input",{onChange:e.handleChange,className:"edit__input",name:"title"}),Object(p.jsx)("label",{className:"edit__label",children:"Price"}),Object(p.jsx)("input",{onChange:e.handleChange,className:"edit__input",name:"price"}),Object(p.jsx)("label",{className:"edit__label",children:"Location"}),Object(p.jsx)("input",{onChange:e.handleChange,className:"edit__input",name:"location"}),Object(p.jsx)("label",{className:"edit__label",children:"Category"}),Object(p.jsxs)("select",{onChange:e.handleChange,id:"category",className:"edit__input edit__input--select",name:"category",children:[Object(p.jsx)("option",{value:"electronics",children:"Electronics"}),Object(p.jsx)("option",{value:"clothing",children:"Clothing"}),Object(p.jsx)("option",{value:"general",children:"General"}),Object(p.jsx)("option",{value:"gardening",children:"Gardening"})]}),Object(p.jsx)("label",{className:"edit__label",children:"Description"}),Object(p.jsx)("input",{onChange:e.handleChange,className:"edit__input",name:"description"}),Object(p.jsx)("label",{className:"edit__label",children:"Would You like your post on the hero banner? (10pts)"}),Object(p.jsxs)("div",{className:"edit__checkbox-container",children:[Object(p.jsx)("input",{onChange:e.handleChange,type:"checkbox",disabled:!(e.currentUser.points>10),className:"edit__input edit__input--checkbox",value:!0,name:"premium"}),Object(p.jsx)("label",{className:"edit__label",children:"Sure!"})]})]}),Object(p.jsxs)("button",{className:"edit__btn",children:[Object(p.jsx)(E.d,{className:"edit__btn-icon"}),Object(p.jsx)("p",{className:"edit__btn-text",children:"Submit"})]})]})})}),le=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={currentUser:null,previewImg:null,files:null,postInfo:{}},e.componentDidMount=function(){var t=sessionStorage.getItem("token");N.a.get("re-run-dkdd7.ondigitalocean.app/secure/current/user",{headers:{authorization:"Bearer ".concat(t)}}).then((function(t){console.log(t),e.setState({currentUser:t.data})})).catch((function(e){console.log(e)}))},e.handleChange=function(t){e.setState({postInfo:Object(u.a)(Object(u.a)({},e.state.postInfo),{},Object(C.a)({},t.target.name,t.target.value))}),console.log([t.target.name],[t.target.value],[t.target.files]),console.log(e.state.postInfo)},e.handleChangeImg=function(t){console.log(t.target.files),e.setState({files:t.target.files[0],previewImg:URL.createObjectURL(t.target.files[0])})},e.handleGoback=function(){e.props.history.goBack()},e.handleUpload=function(t){t.preventDefault();var a=sessionStorage.getItem("token"),n=new FormData;n.append("image",e.state.files?e.state.files:null),n.append("title",e.state.postInfo.title?e.state.postInfo.title:null),n.append("price",e.state.postInfo.price?e.state.postInfo.price:null),n.append("location",e.state.postInfo.location?e.state.postInfo.location:null),n.append("category",e.state.postInfo.category?e.state.postInfo.category:null),n.append("description",e.state.postInfo.description?e.state.postInfo.description:null),n.append("premium",e.state.postInfo.premium?e.state.postInfo.premium:null),"true"!==n.get("premium")?(console.log(n.get("premium")),N.a.put("re-run-dkdd7.ondigitalocean.app/secure/edit/post/"+e.props.match.params.id,n,{headers:{authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),e.props.history.push("/")):(N.a.put("re-run-dkdd7.ondigitalocean.app/secure/remove/points",{},{headers:{authorization:"Bearer ".concat(a)}}).then((function(t){return N.a.put("re-run-dkdd7.ondigitalocean.app/secure/edit/post/"+e.props.match.params.id,n,{headers:{authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data"}})})).then((function(e){})).catch((function(e){console.log(e)})),e.props.history.push("/"))},e.render=function(){return Object(p.jsx)(p.Fragment,{children:e.state.currentUser&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.b,{render:function(t){return Object(p.jsx)(G,Object(u.a)({currentUser:e.state.currentUser},t))}}),Object(p.jsx)(ie,{handleGoback:e.handleGoback,currentUser:e.state.currentUser,handleUpload:e.handleUpload,previewImg:e.state.previewImg,handleChangeImg:e.handleChangeImg,handleChange:e.handleChange})]})})},e}return a}(r.a.Component),de=(a(58),a(62)),ue=(a(120),{"--sendbird-light-primary-500":"#00487c","--sendbird-light-primary-400":"#00222D","--sendbird-light-primary-300":"#3e6680","--sendbird-light-primary-200":"#0496ff","--sendbird-light-primary-100":"#027bce"}),he=function(e){return Object(p.jsx)("div",{className:"chat",children:Object(p.jsx)(de.a,{appId:"B2151300-4A40-47E2-8F57-86ABB7B57A17",userId:e.currentUser._id,colorSet:ue,nickname:e.currentUser.username})})},pe=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={index:0,currentUser:null,allPost:null,show:!1,channelLink:""},e.componentDidMount=function(){var t=sessionStorage.getItem("token");N.a.get("re-run-dkdd7.ondigitalocean.app/secure/current/user",{headers:{authorization:"Bearer ".concat(t)}}).then((function(a){return e.setState({currentUser:a.data}),N.a.get("re-run-dkdd7.ondigitalocean.app/secure/all/postings",{headers:{authorization:"Bearer ".concat(t)}})})).then((function(t){console.log(t.data),e.setState({allPost:t.data})})).catch((function(e){console.log(e)}));Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"re-run-dkdd7.ondigitalocean.app",REACT_APP_GOOGLE_KEY:"AIzaSyDhmpkDwJFgGnLdW6lJrzfyPwtbDjYqW5I",REACT_APP_SENDBIRD_APP_KEY:"B2151300-4A40-47E2-8F57-86ABB7B57A17",REACT_APP_SENDBIRD_API_KEY:"f46f131727ec33ca9ffb3cfbffd3ea1c768510f9"}).SENDBIRD_KEY},e.componentDidUpdate=function(e,t){},e.getUrl=function(t){console.log(t),t&&e.setState({channelLink:t.url,show:!0})},e.handleGoback=function(){e.setState({show:!1})},e.render=function(){return Object(p.jsx)(p.Fragment,{children:e.state.currentUser&&e.state.allPost&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.b,{render:function(t){return Object(p.jsx)(G,Object(u.a)({currentUser:e.state.currentUser},t))}}),Object(p.jsx)(he,{handleGoback:e.handleGoback,show:e.state.show,getUrl:e.getUrl,channelLink:e.state.channelLink,currentUser:e.state.currentUser})]})})},e}return a}(r.a.Component),je=(a(121),function(e){var t={hidden:{opacity:0,y:200},show:{opacity:1,y:0,transition:{ease:[.6,.01,-.05,.95],duration:1.6}},exit:{opacity:0,y:-200,transition:{ease:"easeInOut",duration:.8}}},a={hidden:{opacity:0,y:200},show:{opacity:1,y:0,transition:{ease:[.6,.01,-.05,.95],duration:1.6}}};return Object(p.jsx)("section",{className:"myads",children:Object(p.jsxs)(O.a.div,{variants:{show:{transition:{staggerChildren:.35}}},initial:"hidden",animate:"show",exit:"exit",className:"myads__container",children:[Object(p.jsxs)("div",{className:"myads__header",children:[Object(p.jsx)(E.c,{onClick:e.handleGoback,className:"myads__goback"}),Object(p.jsx)("h1",{className:"myads__h1",children:e.categoryName})]}),Object(p.jsx)("main",{className:"myads__grid",children:e.data.map((function(e){return Object(p.jsx)(O.a.div,{variants:a,children:Object(p.jsx)(i.b,{to:"/post/"+e._id,className:"main__card-link",children:Object(p.jsxs)(O.a.div,{className:"main__card",whileHover:{scale:1.1},variants:t,children:[Object(p.jsx)("img",{src:e.image,className:"main__img"}),Object(p.jsxs)("div",{className:"main__text-container",children:[Object(p.jsx)("p",{className:"main__title",children:e.title}),Object(p.jsx)("p",{className:"main__price",children:e.price})]})]})})})}))})]})})}),me=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={userPosts:[],currentUser:null,postId:null},e.componentDidMount=function(){e.setState({index:e.props.match.params.id-1});var t=sessionStorage.getItem("token");N.a.get("re-run-dkdd7.ondigitalocean.app/secure/current/user",{headers:{authorization:"Bearer ".concat(t)}}).then((function(a){return e.setState({currentUser:a.data}),N.a.get("re-run-dkdd7.ondigitalocean.app/secure/all/postings",{headers:{authorization:"Bearer ".concat(t)}})})).then((function(t){console.log(t.data);var a=t.data.filter((function(e){return"electronics"===e.category}));console.log(a),e.setState({userPosts:a})})).catch((function(e){console.log(e)}))},e.handleGoback=function(){e.props.history.goBack()},e.render=function(){return Object(p.jsx)(p.Fragment,{children:e.state.currentUser&&e.state.userPosts&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.b,{render:function(t){return Object(p.jsx)(G,Object(u.a)({currentUser:e.state.currentUser},t))}}),Object(p.jsx)(je,{handleGoback:e.handleGoback,categoryName:"Electronics",data:e.state.userPosts})]})})},e}return a}(r.a.Component),be=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={userPosts:[],currentUser:null,postId:null},e.componentDidMount=function(){e.setState({index:e.props.match.params.id-1});var t=sessionStorage.getItem("token");N.a.get("re-run-dkdd7.ondigitalocean.app/secure/current/user",{headers:{authorization:"Bearer ".concat(t)}}).then((function(a){return e.setState({currentUser:a.data}),N.a.get("re-run-dkdd7.ondigitalocean.app/secure/all/postings",{headers:{authorization:"Bearer ".concat(t)}})})).then((function(t){console.log(t.data);var a=t.data.filter((function(e){return"clothing"===e.category}));e.setState({userPosts:a})})).catch((function(e){console.log(e)}))},e.handleGoback=function(){e.props.history.goBack()},e.render=function(){return Object(p.jsx)(p.Fragment,{children:e.state.currentUser&&e.state.userPosts&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.b,{render:function(t){return Object(p.jsx)(G,Object(u.a)({currentUser:e.state.currentUser},t))}}),Object(p.jsx)(je,{handleGoback:e.handleGoback,categoryName:"Clothing",data:e.state.userPosts})]})})},e}return a}(r.a.Component),ge=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={userPosts:[],currentUser:null,postId:null},e.componentDidMount=function(){e.setState({index:e.props.match.params.id-1});var t=sessionStorage.getItem("token");N.a.get("re-run-dkdd7.ondigitalocean.app/secure/current/user",{headers:{authorization:"Bearer ".concat(t)}}).then((function(a){return e.setState({currentUser:a.data}),N.a.get("re-run-dkdd7.ondigitalocean.app/secure/all/postings",{headers:{authorization:"Bearer ".concat(t)}})})).then((function(t){console.log(t.data);var a=t.data.filter((function(e){return"general"===e.category}));e.setState({userPosts:a})})).catch((function(e){console.log(e)}))},e.handleGoback=function(){e.props.history.goBack()},e.render=function(){return Object(p.jsx)(p.Fragment,{children:e.state.currentUser&&e.state.userPosts&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.b,{render:function(t){return Object(p.jsx)(G,Object(u.a)({currentUser:e.state.currentUser},t))}}),Object(p.jsx)(je,{handleGoback:e.handleGoback,categoryName:"General",data:e.state.userPosts})]})})},e}return a}(r.a.Component),_e=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={userPosts:[],currentUser:null,postId:null},e.componentDidMount=function(){e.setState({index:e.props.match.params.id-1});var t=sessionStorage.getItem("token");N.a.get("re-run-dkdd7.ondigitalocean.app/secure/current/user",{headers:{authorization:"Bearer ".concat(t)}}).then((function(a){return e.setState({currentUser:a.data}),N.a.get("re-run-dkdd7.ondigitalocean.app/secure/all/postings",{headers:{authorization:"Bearer ".concat(t)}})})).then((function(t){console.log(t.data);var a=t.data.filter((function(e){return"gardening"===e.category}));e.setState({userPosts:a})})).catch((function(e){console.log(e)}))},e.handleGoback=function(){e.props.history.goBack()},e.render=function(){return Object(p.jsx)(p.Fragment,{children:e.state.currentUser&&e.state.userPosts&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.b,{render:function(t){return Object(p.jsx)(G,Object(u.a)({currentUser:e.state.currentUser},t))}}),Object(p.jsx)(je,{handleGoback:e.handleGoback,categoryName:"Gardening",data:e.state.userPosts})]})})},e}return a}(r.a.Component),Oe=function(){return Object(p.jsx)(i.a,{children:Object(p.jsx)(l.b,{render:function(e){var t=e.location;return Object(p.jsx)(d.a,{exitBeforeEnter:!0,children:Object(p.jsxs)(l.d,{location:t,children:[Object(p.jsx)(m,{path:"/category/electronics",component:me}),Object(p.jsx)(m,{path:"/category/clothing",component:be}),Object(p.jsx)(m,{path:"/category/general",component:ge}),Object(p.jsx)(m,{path:"/category/gardening",component:_e}),Object(p.jsx)(m,{path:"/chat/",component:pe}),Object(p.jsx)(m,{path:"/edit/post/:id",component:le}),Object(p.jsx)(m,{path:"/mypostings",component:oe}),Object(p.jsx)(m,{path:"/add/posts",component:te}),Object(p.jsx)(m,{path:"/post/:id",component:Q}),Object(p.jsx)(l.b,{path:"/login",component:W}),Object(p.jsx)(l.b,{path:"/register",component:R}),Object(p.jsx)(l.b,{path:"/welcome",component:y}),Object(p.jsx)(m,{path:"/",component:K})]},t.pathname)})}})})},xe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,127)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(Oe,{})}),document.getElementById("root")),xe()},69:function(e,t,a){},70:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},98:function(e,t,a){}},[[122,1,2]]]);
//# sourceMappingURL=main.6ea10fee.chunk.js.map